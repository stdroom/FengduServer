<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:aop="http://www.springframework.org/schema/aop"  
    xmlns:tx="http://www.springframework.org/schema/tx" 
	xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd" default-autowire="byType">

	<!-- 定时器 -->
    <bean name="scannerjob"  class="org.springframework.scheduling.quartz.JobDetailBean">
    <property name="jobClass">
     <value>com.yiya.timetask.ScanSeismicData</value>
    </property>
    <property name="jobDataAsMap">
     <map>
      <entry key="timeout">
       <value>5</value>
      </entry>
     </map>
    </property>
   </bean>
 
  <!-- 配置触发器 -->
       <bean id="cronTriggerCA" class="org.springframework.scheduling.quartz.CronTriggerBean">
		  <property name="jobDetail">
		   <ref bean="scannerjob"/>
		  </property>
		  <property name="cronExpression">
		   <value>0 0/1 * * * ?</value>
		  </property>
    </bean>
    
    <!-- 添加触发器 -->
    <bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean" autowire="no">
    	<property name="startupDelay" value="10" />  
        <property name="applicationContextSchedulerContextKey" value="applicationContextKey" />  
        <property name="quartzProperties">  
            <props>  
                <prop key="org.quartz.scheduler.instanceName">bysjScheduler</prop>  
                <prop key="org.quartz.scheduler.instanceId">AUTO</prop>  
                <prop key="org.quartz.threadPool.class">org.quartz.simpl.SimpleThreadPool</prop>  
                <prop key="org.quartz.threadPool.threadCount">3</prop>  
                <prop key="org.quartz.threadPool.threadPriority">5</prop>  
                <prop key="org.quartz.jobStore.misfireThreshold">60000</prop>  
                <prop key="org.quartz.jobStore.class">org.quartz.simpl.RAMJobStore</prop>
                <prop key="org.quartz.scheduler.skipUpdateCheck">true</prop>
            </props>  
        </property>  
	   <property name="triggers">
	    <list>
	  		 <ref local="cronTriggerCA"/>
	    </list>
	   </property>
    </bean>
    <!-- //定时器 -->
</beans>

